export const meta = {
  title: "Node and ESM module resolution",
  slug: "/node-and-esm-module-resolution",
  date: "2020-03-01",
};

# Node and ESM module resolution

## The short version

- Include a `"type": "module"` in the `package.json` for the imported module.

OR

- Set the file extension of the imported module to `.mjs`.

##Â The longer version

I was a bit confused about this, so created a repo to shore up my understanding: [github.com/m-allanson/node-esm-resolution](https://github.com/m-allanson/node-esm-resolution).

If you're writing a package and want to export CommonJS and ESM versions, here's [a good overview by Dr. Axel Rauschmayer](https://2ality.com/2019/10/hybrid-npm-packages.html).

And [some further information, including potential pitfalls of dual-format packages in Node's docs](https://nodejs.org/api/packages.html#packages_dual_commonjs_es_module_packages).
