import{mdx as e}from"@mdx-js/preactmdx-js/preact.js";const r={title:"Change a commit's parent",slug:"/change-a-commits-parent",date:"2021-08-16"},t="wrapper";function a({components:o,...n}){return e(t,Object.assign({components:o},n),e("h1",{id:"change-a-commits-parent",is:"postHeading"},"Change a commit's parent"),e("p",null,"Occasionally I want to move some commits from one branch to another. I do this rarely enough that I forget how to do it each time, but often enough that I know I'll need to do it again."),e("p",null,"There are some detailed Stack Overflow answers that dig into different ways to do it. But I find them tricky to understand and follow, mainly because I ",e("em",{parentName:"p"},"know")," this is something I've done in the past without much fuss."),e("p",null,"Here it is:"),e("codeblock",{className:"language-sh",codestring:"git rebase --onto <new-parent-ref> <old-parent-ref> <target-branch-ref>"},e("pre",{className:"prism-code language-sh",style:{color:"#d6deeb",backgroundColor:"transparent"},parentName:"codeblock"},e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"git rebase --onto <new-parent-ref> <old-parent-ref> <target-branch-ref>")))),e("p",null,"If you skip the third argument, the current ",e("inlineCode",{parentName:"p"},"HEAD")," is used instead."),e("p",null,"There are some great examples in the ",e("a",{href:"https://git-scm.com/docs/git-rebase",parentName:"p"},"git docs"),"."),e("p",null,"Here's an example from the docs that covers my most common use-case. With branches like:"),e("codeblock",{codestring:"o---o---o---o---o  main\\n         \\\\\\n          o---o---o---o---o  next\\n                           \\\\\\n                            o---o---o  topic"},e("pre",{className:"prism-code language-undefined",style:{color:"#d6deeb",backgroundColor:"transparent"},parentName:"codeblock"},e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"o---o---o---o---o  main")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"         \\")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"          o---o---o---o---o  next")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"                           \\")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"                            o---o---o  topic")))),e("p",null,"And a desired layout of:"),e("codeblock",{codestring:"o---o---o---o---o  main\\n        |            \\\\\\n        |             o'--o'--o'  topic\\n         \\\\\\n          o---o---o---o---o  next"},e("pre",{className:"prism-code language-undefined",style:{color:"#d6deeb",backgroundColor:"transparent"},parentName:"codeblock"},e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"o---o---o---o---o  main")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"        |            \\")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"        |             o'--o'--o'  topic")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"         \\")),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"          o---o---o---o---o  next")))),e("p",null,"You can use the following command:"),e("codeblock",{codestring:"git rebase --onto main next topic"},e("pre",{className:"prism-code language-undefined",style:{color:"#d6deeb",backgroundColor:"transparent"},parentName:"codeblock"},e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"git rebase --onto main next topic")))),e("p",null,"Note that the refs can be commit hashes as well as branch names (does this apply to ",e("inlineCode",{parentName:"p"},"<target-branch-ref>"),"?)."),e("p",null,"Thanks git!"))}a.isMDXComponent=!0;var l=a;export{l as default,r as meta};
