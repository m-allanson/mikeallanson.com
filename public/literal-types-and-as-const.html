<!DOCTYPE html>
<script>
window.componentPath = "/literal-types-and-as-const.js";
window.wrapperComponentPath = "/src/page-wrapper.js";
window.dataPath = "/literal-types-and-as-const.json";
</script>
<html lang="en">
  <head>
  <title data-react-helmet="true">Literal Types and `as const` ðŸª² mikeallanson.com</title>
  <meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="description" content="TODO!! Here is my lovely placeholder description"/>
  <link data-react-helmet="true" type="font/woff2" href="fonts/ibm-plex-serif-v9-latin-700.woff2" rel="preload" as="font" crossorigin="anonymous"/><link data-react-helmet="true" rel="stylesheet" href="/styles.css"/><link data-react-helmet="true" rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸª²&lt;/text&gt;&lt;/svg&gt;"/><link data-react-helmet="true" rel="alternate icon" href="/favicon.ico"/>
  
  
  </head>
  <body >
    <div id="toast-page-section"><header role="banner"><a href="/" aria-label="Mike Allanson">Mike Allanson</a></header><main><article is="post" class="flow"><h1 id="literal-types-and-as-const" is="postHeading">Literal Types and <code>as const</code></h1><p>These are my notes from working through the <a href="https://www.typescriptlang.org/play?#gist/927ccc66ae3022dc64c4f650109b937a-1"><em>Beginner 1</em> exercise from TypeScript's <em>Type | Treat 2021</em></a>.</p><h2 id="literal-types" is="postHeading"><a href="#literal-types">Literal Types</a></h2><p>TypeScript will create literal types for values where possible. For example, the type of <code>const myString = 'a string'</code> will be <code>a string</code>. Because the variable is a string, and it's declared with <code>const</code> then its value (and therefore its type) must always be <code>a string</code>.</p><p>For arrays, TS will type the array based on the primitive types of the array's values. e.g. <code>const myArray = ['a', 'b', 'c']</code> will be typed as <code>string[]</code>.</p><h2 id="tuple-types" is="postHeading"><a href="#tuple-types">Tuple Types</a></h2><p>TS also has <a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#tuple-types"><em>Tuple Types</em></a>, which are:</p><blockquote class="flow"><p>another sort of Array type that knows exactly how many elements it contains, and exactly which types it contains at specific positions.</p></blockquote><p>If I know <code>myArray</code> won't change, I can define its type like:</p><div is="code" codestring="type MyArray = [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;];\n\nconst myArray: MyArray = [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;];\n\n// Now this will error\nmyArray.push(\&quot;d\&quot;);\n// Argument of type '\&quot;d\&quot;' is not assignable to parameter of type '\&quot;a\&quot; | \&quot;b\&quot; | \&quot;c\&quot;'." class="language-ts"><pre style="color: #d6deeb; background-color: transparent;" class="prism-code language-ts"><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(127, 219, 202);" class="token keyword">type</span><span class="token plain"> </span><span style="color: rgb(255, 203, 139);" class="token class-name">MyArray</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span class="token plain"> myArray</span><span style="color: rgb(127, 219, 202);" class="token operator">:</span><span class="token plain"> MyArray </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// Now this will error</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">myArray</span><span style="color: rgb(199, 146, 234);" class="token punctuation">.</span><span style="color: rgb(130, 170, 255);" class="token function">push</span><span style="color: rgb(199, 146, 234);" class="token punctuation">(</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;d&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">)</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// Argument of type '&quot;d&quot;' is not assignable to parameter of type '&quot;a&quot; | &quot;b&quot; | &quot;c&quot;'.</span></div></pre></div><p><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAsiCCAnRBDEUC8UDaByFuANFLgEZEkDGuAugNwBQDlA9gHYDOwUAtgsmgBcsfqnRY8BYmQq5qNJnyRiAdGACuHABYAKXFpQHcASiA">TS Playground link</a></p><h2 id="type-assertions" is="postHeading"><a href="#type-assertions">Type Assertions</a></h2><p>TS allows you to assert the type of a value, which is useful when you have more information than the TS compiler.</p><div is="code" codestring="// type 1\nconst myNum = getIntLessThanTwo() as 1;" class="language-ts"><pre style="color: #d6deeb; background-color: transparent;" class="prism-code language-ts"><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// type 1</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span class="token plain"> myNum </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(130, 170, 255);" class="token function">getIntLessThanTwo</span><span style="color: rgb(199, 146, 234);" class="token punctuation">(</span><span style="color: rgb(199, 146, 234);" class="token punctuation">)</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">as</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">1</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span></div></pre></div><h2 id="const-assertions" is="postHeading"><a href="#const-assertions"><code>const</code> Assertions</a></h2><p>Building on type assertions, TS introduced <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions"><code>const</code> assertions</a>, which act as a shortcut for literally typing a value.</p><div is="code" codestring="// Type '\&quot;hello\&quot;'\nlet x = \&quot;hello\&quot; as const;\n\n// Type 'readonly [10, 20]'\nlet y = [10, 20] as const;\n\n// Type '{ readonly text: \&quot;hello\&quot; }'\nlet z = { text: \&quot;hello\&quot; } as const;" class="language-ts"><pre style="color: #d6deeb; background-color: transparent;" class="prism-code language-ts"><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// Type '&quot;hello&quot;'</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">let</span><span class="token plain"> x </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;hello&quot;</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">as</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// Type 'readonly [10, 20]'</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">let</span><span class="token plain"> y </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(247, 140, 108);" class="token number">10</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">20</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">as</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// Type '{ readonly text: &quot;hello&quot; }'</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">let</span><span class="token plain"> z </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">{</span><span class="token plain"> text</span><span style="color: rgb(127, 219, 202);" class="token operator">:</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;hello&quot;</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">}</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">as</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span></div></pre></div><h2 id="literally-typing-an-array" is="postHeading"><a href="#literally-typing-an-array">Literally typing an array</a></h2><p>Pulling together the above info we've got three ways to literally type an array.</p><div is="code" codestring="type MyArray = [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;];\n\n// type [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;]\nconst firstArray: MyArray = [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;];\n\n// type [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;]\nconst secondArray = [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;] as [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;];\n\n// type readonly [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;]\nconst thirdArray = [\&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;] as const;" class="language-ts"><pre style="color: #d6deeb; background-color: transparent;" class="prism-code language-ts"><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(127, 219, 202);" class="token keyword">type</span><span class="token plain"> </span><span style="color: rgb(255, 203, 139);" class="token class-name">MyArray</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// type [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span class="token plain"> firstArray</span><span style="color: rgb(127, 219, 202);" class="token operator">:</span><span class="token plain"> MyArray </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// type [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span class="token plain"> secondArray </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">as</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(99, 119, 119); font-style: italic;" class="token comment">// type readonly [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span class="token plain"> thirdArray </span><span style="color: rgb(127, 219, 202);" class="token operator">=</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">[</span><span style="color: rgb(173, 219, 103);" class="token string">&quot;a&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;b&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">,</span><span class="token plain"> </span><span style="color: rgb(173, 219, 103);" class="token string">&quot;c&quot;</span><span style="color: rgb(199, 146, 234);" class="token punctuation">]</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">as</span><span class="token plain"> </span><span style="color: rgb(127, 219, 202);" class="token keyword">const</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span></div></pre></div><p>Note that <code>thirdArray</code>'s type has a <code>readonly</code> modifier. I'm not sure what the practical difference is in this simple example.</p><h2 id="to-be-continued" is="postHeading"><a href="#to-be-continued">To Be Continued</a></h2><p>This gets us through the first part half of the answer. <a href="/the-typeof-type-operator">To be continued...</a></p></article></main><footer is="mainFooter"><a href="https://github.com/m-allanson/mikeallanson.com">Source available on GitHub</a></footer></div>
    <script type="module">
    /* @jsx jsx */

async function renderPage() {
  const promises = [
    import(window.componentPath),
    window.wrapperComponentPath
      ? import(window.wrapperComponentPath)
      : undefined,
    window.dataPath
      ? fetch(window.dataPath).then(response => {
          return response.json();
        })
      : {},
    import("/web_modules/preact.js")
  ];

  let pageWrapper = ({ children }) => h("div", null, children);
  const [
    PageModule,
    PageWrapperModule,
    pageData,
    { render, h }
  ] = await Promise.all(promises);
  const Page = PageModule.default;
  if(PageWrapperModule) {
    pageWrapper = PageWrapperModule.default
  }

  render(
    h(pageWrapper, pageData, h(Page, pageData)),
    document.getElementById("toast-page-section")
  );
}

renderPage();

</script>
  </body>
</html>
