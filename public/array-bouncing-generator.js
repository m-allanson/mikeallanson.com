import{mdx as e}from"@mdx-js/preactmdx-js/preact.js";const o={title:"Array Bouncing Generator",slug:"/array-bouncing-generator",date:"2021-02-15"},t="wrapper";function a({components:n,...s}){return e(t,Object.assign({components:n},s),e("h1",{id:"array-bouncing-generator",is:"postHeading"},"Array Bouncing Generator"),e("p",null,"I want to cycle through the values in an array. When I get to the end, I want to cycle ",e("em",{parentName:"p"},"back")," through the values in reverse. I want to do this an unknown number of times."),e("p",null,"Given an array like ",e("inlineCode",{parentName:"p"},"[1, 2, 3, 4]"),", give me the values ",e("inlineCode",{parentName:"p"},"1, 2, 3, 4, 3, 2, 1, 2, 3, 4, 3, 2")," (etc)."),e("p",null,"You can do this with a generator function:"),e("codeblock",{className:"language-js",codestring:"function* bounce(values) {\\n  let step = -1;\\n  let size = values.length;\\n  let current = 0;\\n\\n  while (true) {\\n    if (size < 2) {\\n      yield values[0];\\n    } else {\\n      yield values[current];\\n      // reverse direction at array boundary\\n      if (current === size - 1 || current === 0) step *= -1;\\n      current += step;\\n    }\\n  }\\n}"},e("pre",{className:"prism-code language-js",style:{color:"#d6deeb",backgroundColor:"transparent"},parentName:"codeblock"},e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"function"),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"*"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token function",style:{color:"rgb(130, 170, 255)"},parentName:"div"},"bounce"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token parameter",parentName:"div"},"values"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"{"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"  "),e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"let"),e("span",{className:"token plain",parentName:"div"}," step "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"-"),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"1"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"  "),e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"let"),e("span",{className:"token plain",parentName:"div"}," size "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," values"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"."),e("span",{className:"token property-access",parentName:"div"},"length"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"  "),e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"let"),e("span",{className:"token plain",parentName:"div"}," current "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"0"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",style:{display:"inline-block"},parentName:"div"},`
`)),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"  "),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"while"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token boolean",style:{color:"rgb(255, 88, 116)"},parentName:"div"},"true"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"{"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"    "),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"if"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token plain",parentName:"div"},"size "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"<"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"2"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"{"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"      "),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"yield"),e("span",{className:"token plain",parentName:"div"}," values"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"["),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"0"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"]"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"    "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"}"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"else"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"{"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"      "),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"yield"),e("span",{className:"token plain",parentName:"div"}," values"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"["),e("span",{className:"token plain",parentName:"div"},"current"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"]"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"      "),e("span",{className:"token comment",style:{color:"rgb(99, 119, 119)",fontStyle:"italic"},parentName:"div"},"// reverse direction at array boundary"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"      "),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"if"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token plain",parentName:"div"},"current "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"==="),e("span",{className:"token plain",parentName:"div"}," size "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"-"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"1"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"||"),e("span",{className:"token plain",parentName:"div"}," current "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"==="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"0"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token plain",parentName:"div"}," step "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"*="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"-"),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"1"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"      current "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"+="),e("span",{className:"token plain",parentName:"div"}," step"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"    "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"}"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"  "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"}"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"}")))),e("p",null,"Usage:"),e("codeblock",{className:"language-js",codestring:'const myValues = [1, 2, 3, 4, 5];\\n\\nconst valueIterator = bounce(myValues);\\n\\nlet result = \\"\\";\\n\\n// Bounce through the array until we have 20 values\\nfor (let i = 0; i < 20; i++) {\\n  result += valueIterator.next().value;\\n}\\n\\n// Logs \\"12345432123454321234\\"\\nconsole.log(result);'},e("pre",{className:"prism-code language-js",style:{color:"#d6deeb",backgroundColor:"transparent"},parentName:"codeblock"},e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"const"),e("span",{className:"token plain",parentName:"div"}," myValues "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"["),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"1"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},","),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"2"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},","),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"3"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},","),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"4"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},","),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"5"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"]"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",style:{display:"inline-block"},parentName:"div"},`
`)),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"const"),e("span",{className:"token plain",parentName:"div"}," valueIterator "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token function",style:{color:"rgb(130, 170, 255)"},parentName:"div"},"bounce"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token plain",parentName:"div"},"myValues"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",style:{display:"inline-block"},parentName:"div"},`
`)),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"let"),e("span",{className:"token plain",parentName:"div"}," result "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token string",style:{color:"rgb(173, 219, 103)"},parentName:"div"},'""'),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",style:{display:"inline-block"},parentName:"div"},`
`)),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token comment",style:{color:"rgb(99, 119, 119)",fontStyle:"italic"},parentName:"div"},"// Bounce through the array until we have 20 values"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token keyword control-flow",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"for"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token keyword",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"let"),e("span",{className:"token plain",parentName:"div"}," i "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"="),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"0"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"}," i "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"<"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token number",style:{color:"rgb(247, 140, 108)"},parentName:"div"},"20"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"}," i"),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"++"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token plain",parentName:"div"}," "),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"{"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"},"  result "),e("span",{className:"token operator",style:{color:"rgb(127, 219, 202)"},parentName:"div"},"+="),e("span",{className:"token plain",parentName:"div"}," valueIterator"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"."),e("span",{className:"token method function property-access",style:{color:"rgb(130, 170, 255)"},parentName:"div"},"next"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"."),e("span",{className:"token property-access",parentName:"div"},"value"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"}"),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",style:{display:"inline-block"},parentName:"div"},`
`)),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token comment",style:{color:"rgb(99, 119, 119)",fontStyle:"italic"},parentName:"div"},'// Logs "12345432123454321234"'),e("span",{className:"token plain",parentName:"div"})),e("div",{className:"token-line",style:{color:"#d6deeb"},parentName:"pre"},e("span",{className:"token plain",parentName:"div"}),e("span",{className:"token console class-name",style:{color:"rgb(255, 203, 139)"},parentName:"div"},"console"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"."),e("span",{className:"token method function property-access",style:{color:"rgb(130, 170, 255)"},parentName:"div"},"log"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},"("),e("span",{className:"token plain",parentName:"div"},"result"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},")"),e("span",{className:"token punctuation",style:{color:"rgb(199, 146, 234)"},parentName:"div"},";")))))}a.isMDXComponent=!0;var r=a;export{r as default,o as meta};
