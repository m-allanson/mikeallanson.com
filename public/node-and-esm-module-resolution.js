import{mdx as e}from"@mdx-js/preactmdx-js/preact.js";const s={title:"Node and ESM module resolution",slug:"/node-and-esm-module-resolution",date:"2021-03-01"},a="wrapper";function o({components:n,...t}){return e(a,Object.assign({components:n},t),e("h1",{id:"node-and-esm-module-resolution",is:"postHeading"},"Node and ESM module resolution"),e("h2",{id:"the-short-version",is:"postHeading"},e("a",{href:"#the-short-version",parentName:"h2"},"The short version")),e("ul",null,e("li",{parentName:"ul"},"Include a ",e("inlineCode",{parentName:"li"},'"type": "module"')," in the ",e("inlineCode",{parentName:"li"},"package.json")," for the imported module.")),e("p",null,"OR"),e("ul",null,e("li",{parentName:"ul"},"Set the file extension of the imported module to ",e("inlineCode",{parentName:"li"},".mjs"),".")),e("h2",{id:"the-longer-version",is:"postHeading"},e("a",{href:"#the-longer-version",parentName:"h2"},"The longer version")),e("p",null,"I was a bit confused about this, so created a repo to shore up my understanding: ",e("a",{href:"https://github.com/m-allanson/node-esm-resolution",parentName:"p"},"github.com/m-allanson/node-esm-resolution"),"."),e("p",null,"If you're writing a package and want to export CommonJS and ESM versions, here's ",e("a",{href:"https://2ality.com/2019/10/hybrid-npm-packages.html",parentName:"p"},"a good overview by Dr. Axel Rauschmayer"),"."),e("p",null,"And ",e("a",{href:"https://nodejs.org/api/packages.html#packages_dual_commonjs_es_module_packages",parentName:"p"},"some further information, including potential pitfalls of dual-format packages in Node's docs"),"."))}o.isMDXComponent=!0;var i=o;export{i as default,s as meta};
