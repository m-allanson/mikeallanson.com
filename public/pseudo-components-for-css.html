<!DOCTYPE html>
<script>
window.componentPath = "/pseudo-components-for-css.js";
window.wrapperComponentPath = "/src/page-wrapper.js";
window.dataPath = "/pseudo-components-for-css.json";
</script>
<html lang="en">
  <head>
  <title data-react-helmet="true">Pseudo &quot;Components&quot; for CSS ðŸª² mikeallanson.com</title>
  <meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="description" content="TODO!! Here is my lovely placeholder description"/>
  <link data-react-helmet="true" type="font/woff2" href="fonts/ibm-plex-serif-v9-latin-700.woff2" rel="preload" as="font" crossorigin="anonymous"/><link data-react-helmet="true" rel="stylesheet" href="/styles.css"/><link data-react-helmet="true" rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸª²&lt;/text&gt;&lt;/svg&gt;"/><link data-react-helmet="true" rel="alternate icon" href="/favicon.ico"/>
  
  
  </head>
  <body >
    <div id="toast-page-section"><header role="banner"><a href="/" aria-label="Mike Allanson">Mike Allanson</a></header><main><article is="post" class="flow"><h1 id="pseudo-components-for-css" is="postHeading">Pseudo &quot;Components&quot; for CSS</h1><p>There are many many CSS naming conventions. Most methodologies are aimed at encapsulating your styles and / or restricting the cascade. They are all different ways to <em>contain complexity</em>.</p><p>Here's another one: repurposing the <code>is</code> attribute to give a name to the thing being styled.</p><h2 id="whats-the-deal-then" is="postHeading"><a href="#whats-the-deal-then">What's the deal then?</a></h2><p>This approach uses CSS nesting and the <code>is</code> attribute to scope styles to your named &quot;components&quot;. Name a component by adding an <code>is=&quot;my-name&quot;</code> attribute to your HTML element. Then scope styles to your component by nesting all your CSS selectors inside the <code>is</code> attribute.</p><h2 id="why-this-is-useful" is="postHeading"><a href="#why-this-is-useful">Why this is useful</a></h2><p>This technique scopes styles to your defined &quot;components&quot;. It's easy to delete your CSS because styles can't leak outside of the component. You can use the CSS cascade <em>within</em> components. You can use a linter (like stylelint) to enforce this usage pattern in your project.</p><h2 id="what-does-this-look-like" is="postHeading"><a href="#what-does-this-look-like">What does this look like?</a></h2><p>Well <em>me</em>, I'm glad I asked. Here's an HTML card &quot;component&quot;:</p><div is="code" codestring="&lt;div is=\&quot;card\&quot;&gt;\n  &lt;h2&gt;Impunity&lt;/h2&gt;\n  &lt;p&gt;Exemption or freedom from punishment, harm, or loss&lt;/p&gt;\n  &lt;a href=\&quot;https://www.merriam-webster.com/word-of-the-day/impunity-2021-03-06\&quot;&gt;\n    Full definition\n  &lt;/a&gt;\n&lt;/div&gt;" class="language-html"><pre style="color: #d6deeb; background-color: transparent;" class="prism-code language-html"><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;</span><span style="color: rgb(127, 219, 202);" class="token tag">div</span><span style="color: rgb(127, 219, 202);" class="token tag"> </span><span style="color: rgb(173, 219, 103); font-style: italic;" class="token tag attr-name">is</span><span style="color: rgb(199, 146, 234);" class="token tag attr-value punctuation attr-equals">=</span><span style="color: rgb(199, 146, 234);" class="token tag attr-value punctuation">&quot;</span><span style="color: rgb(127, 219, 202);" class="token tag attr-value">card</span><span style="color: rgb(199, 146, 234);" class="token tag attr-value punctuation">&quot;</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;</span><span style="color: rgb(127, 219, 202);" class="token tag">h2</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain">Impunity</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;/</span><span style="color: rgb(127, 219, 202);" class="token tag">h2</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;</span><span style="color: rgb(127, 219, 202);" class="token tag">p</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain">Exemption or freedom from punishment, harm, or loss</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;/</span><span style="color: rgb(127, 219, 202);" class="token tag">p</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;</span><span style="color: rgb(127, 219, 202);" class="token tag">a</span><span style="color: rgb(127, 219, 202);" class="token tag"> </span><span style="color: rgb(173, 219, 103); font-style: italic;" class="token tag attr-name">href</span><span style="color: rgb(199, 146, 234);" class="token tag attr-value punctuation attr-equals">=</span><span style="color: rgb(199, 146, 234);" class="token tag attr-value punctuation">&quot;</span><span style="color: rgb(127, 219, 202);" class="token tag attr-value">https://www.merriam-webster.com/word-of-the-day/impunity-2021-03-06</span><span style="color: rgb(199, 146, 234);" class="token tag attr-value punctuation">&quot;</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">    Full definition</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;/</span><span style="color: rgb(127, 219, 202);" class="token tag">a</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&lt;/</span><span style="color: rgb(127, 219, 202);" class="token tag">div</span><span style="color: rgb(199, 146, 234);" class="token tag punctuation">&gt;</span></div></pre></div><p>And some CSS:</p><div is="code" codestring="@use postcss-nested;\n\ndiv[is=\&quot;card\&quot;] {\n  border: 2px solid hotpink;\n  border-radius: 6%;\n  max-width: 10em;\n  padding: 1em;\n  font-family: sans-serif;\n\n  &amp; h2 {\n    margin: 0;\n  }\n\n  &amp; a {\n    color: hotpink;\n\n    &amp;:hover {\n      color: tomato;\n      text-decoration: none;\n    }\n\n    &amp;:focus {\n      border: 2px solid hotpink;\n    }\n  }\n}" class="language-css"><pre style="color: #d6deeb; background-color: transparent;" class="prism-code language-css"><div style="color: #d6deeb;" class="token-line"><span class="token atrule rule">@use</span><span class="token atrule"> postcss-nested</span><span style="color: rgb(199, 146, 234);" class="token atrule punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">div</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector attribute punctuation">[</span><span style="color: rgb(173, 219, 103); font-style: italic;" class="token selector attribute attr-name">is</span><span style="color: rgb(127, 219, 202); font-style: italic;" class="token selector attribute operator">=</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector attribute attr-value">&quot;card&quot;</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector attribute punctuation">]</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">{</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(128, 203, 196);" class="token property">border</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">2</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token color">hotpink</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(128, 203, 196);" class="token property">border-radius</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">6</span><span class="token unit">%</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(128, 203, 196);" class="token property">max-width</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">10</span><span class="token unit">em</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(128, 203, 196);" class="token property">padding</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">1</span><span class="token unit">em</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(128, 203, 196);" class="token property">font-family</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> sans-serif</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">;</span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block; color: rgb(199, 146, 234); font-style: italic;" class="token selector">
</span></div><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">  &amp; h2</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">{</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">    </span><span style="color: rgb(128, 203, 196);" class="token property">margin</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">0</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234);" class="token punctuation">}</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">&amp; a</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">{</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">    </span><span style="color: rgb(128, 203, 196);" class="token property">color</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span class="token color">hotpink</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">;</span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block; color: rgb(199, 146, 234); font-style: italic;" class="token selector">
</span></div><div style="color: #d6deeb;" class="token-line"><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">    &amp;</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector pseudo-class">:hover</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">{</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">      </span><span style="color: rgb(128, 203, 196);" class="token property">color</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span class="token color">tomato</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">      </span><span style="color: rgb(128, 203, 196);" class="token property">text-decoration</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> none</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">    </span><span style="color: rgb(199, 146, 234);" class="token punctuation">}</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span style="display: inline-block;" class="token plain">
</span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">    </span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector">&amp;</span><span style="color: rgb(199, 146, 234); font-style: italic;" class="token selector pseudo-class">:focus</span><span class="token plain"> </span><span style="color: rgb(199, 146, 234);" class="token punctuation">{</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">      </span><span style="color: rgb(128, 203, 196);" class="token property">border</span><span style="color: rgb(199, 146, 234);" class="token punctuation">:</span><span class="token plain"> </span><span style="color: rgb(247, 140, 108);" class="token number">2</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token color">hotpink</span><span style="color: rgb(199, 146, 234);" class="token punctuation">;</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">    </span><span style="color: rgb(199, 146, 234);" class="token punctuation">}</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain">  </span><span style="color: rgb(199, 146, 234);" class="token punctuation">}</span><span class="token plain"></span></div><div style="color: #d6deeb;" class="token-line"><span class="token plain"></span><span style="color: rgb(199, 146, 234);" class="token punctuation">}</span></div></pre></div><p><a href="https://codepen.io/m-allanson/pen/jOVvwGy?editors=1100">Link to Codepen</a></p><p>Note that the CSS is using <a href="https://github.com/postcss/postcss-nested">postcss-nested</a>. You can do similar nesting with SCSS or Less. There's also a <a href="https://drafts.csswg.org/css-nesting-1/">CSS Working Group draft for the <code>&amp;</code> selector</a>.</p><h2 id="aside---what-is-is" is="postHeading"><a href="#aside---what-is-is">Aside - What is <code>is</code>?</a></h2><p><code>is</code> is <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#customized-built-in-element">an attribute from the Web Components spec</a>. It's used to define a <em>customized built-in element</em>. But we're not writing Web Components here, it's just a handy attribute to use as a CSS target.</p><h2 id="drawbacks" is="postHeading"><a href="#drawbacks">Drawbacks</a></h2><ul><li>This could be confusing if you're already using Web Components on the site</li><li>Overloading an existing attribute is not necessarily obvious</li><li>The <code>is</code> attribute is not implemented in Safari or Opera. Your styles will be applied as expected, but your HTML document will technically be invalid. There are a lot of invalid HTML documents out there, so this doesn't seem like a major downer <code>Â¯\_(ãƒ„)_/Â¯</code></li></ul></article></main><footer is="mainFooter"><a href="https://github.com/m-allanson/mikeallanson.com">Source available on GitHub</a></footer></div>
    <script type="module">
    /* @jsx jsx */

async function renderPage() {
  const promises = [
    import(window.componentPath),
    window.wrapperComponentPath
      ? import(window.wrapperComponentPath)
      : undefined,
    window.dataPath
      ? fetch(window.dataPath).then(response => {
          return response.json();
        })
      : {},
    import("/web_modules/preact.js")
  ];

  let pageWrapper = ({ children }) => h("div", null, children);
  const [
    PageModule,
    PageWrapperModule,
    pageData,
    { render, h }
  ] = await Promise.all(promises);
  const Page = PageModule.default;
  if(PageWrapperModule) {
    pageWrapper = PageWrapperModule.default
  }

  render(
    h(pageWrapper, pageData, h(Page, pageData)),
    document.getElementById("toast-page-section")
  );
}

renderPage();

</script>
  </body>
</html>
